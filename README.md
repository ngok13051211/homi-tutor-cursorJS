# Homi-Tutor Database Structure

This document outlines the MongoDB database schema used in the Homi-Tutor application.

## Schema Models

### 1. Users

Stores information for all users who register on the system.

- Unique ID (automatically generated by MongoDB)
- Name
- Email
- Password (encrypted)
- Role (student, tutor, or admin)
- Profile picture
- Account creation timestamp

### 2. Roles

Defines the permissions of each type of user.

- Name (student, tutor, admin)
- Permissions (array of allowed actions)
- Description

### 3. Tutor Profiles

Stores detailed information specific to tutors.

- User reference
- Biography
- Subjects they teach (references to Categories)
- Experience (years)
- Certifications (name, issuer, year, document URL)
- Hourly rate
- Rating
- Review count

### 4. Student Profiles

Stores information about students.

- User reference
- Learning goals
- Favorite subjects (references to Categories)
- Education level
- Grade
- Parent contact information

### 5. Categories

Contains a list of subjects supported on the system.

- Name
- Type (elementary_school, middle_school, high_school, foreign_languages)
- Grade
- Description
- Subjects (array of subject names and descriptions)

Categories include:

- Elementary school (grades 1-5): Math, Vietnamese, English
- Middle school (grades 6-9): Math, Literature, English, Physics, Chemistry, Biology
- High School (grades 10-12): Math, Literature, English, Physics, Chemistry, Biology, History, Geography
- Foreign languages: TOEIC, IELTS

### 6. Courses

Contains information about courses created by tutors.

- Name
- Tutor reference
- Category reference
- Subject
- Description
- Hourly rate
- Schedule (array of day/time slots)
- Learning format (Online, At Home, All)
- Rating
- Review count
- Students (array of references to enrolled students)
- Creation timestamp
- Duration (in weeks)
- Status (active, inactive, full)

### 7. Reviews

Stores reviews and ratings from students.

- Student reference
- Tutor reference
- Course reference (optional)
- Rating (1-5 stars)
- Comment
- Creation timestamp
- Verification status

### 8. Chat Sessions

Stores messages between students and tutors.

- Participants (array of user references)
- Messages (array of message objects with sender, content, timestamp)
- Course reference
- Last activity timestamp
- Active status

### 9. Payments

Stores information about financial transactions.

- Student reference
- Tutor reference
- Course reference
- Amount
- Currency (default: VND)
- Payment method
- Status (pending, completed, failed, refunded)
- Transaction ID
- Payment date
- Creation timestamp
- Description
- Receipt URL

### 10. Notifications

Stores system notifications sent to users.

- Recipient reference
- Type (new_review, upcoming_lesson, etc.)
- Title
- Message content
- Read status
- Related item reference
- Creation timestamp

## Relationships

- Users can have either a TutorProfile or StudentProfile based on their role
- Courses are created by Tutors and can be enrolled in by Students
- Reviews are created by Students for Tutors or Courses
- Chat Sessions connect Students with Tutors
- Payments are made by Students to Tutors for Courses
- Notifications are sent to Users based on system events
